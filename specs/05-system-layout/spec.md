# Feature Specification: 系统布局框架

**Feature Branch**: `05-system-layout`  
**Created**: 2026-02-18  
**Status**: Draft  
**Input**: User description: "步骤05，需参考网站页面样式设计 - 创建系统布局框架，包括顶部导航栏、左侧侧边栏根据角色显示不同菜单、主内容区域"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 销售职员使用系统布局 (Priority: P1)

作为销售职员，登录系统后希望看到专门针对销售工作的布局和菜单，以便高效完成日常任务。

**Why this priority**: 销售职员是系统的主要用户群体之一，布局必须满足其核心工作需求

**Independent Test**: 可通过使用销售角色账号登录，验证布局正确显示销售相关菜单

**Acceptance Scenarios**:

1. **Given** 销售职员已登录，**When** 系统加载布局，**Then** 左侧菜单显示"客户管理、销售合同、发货、发票、收款、进度跟踪"六个菜单项
2. **Given** 销售职员已登录，**When** 页面显示，**Then** 顶部显示用户信息和退出按钮

---

### User Story 2 - 采购职员使用系统布局 (Priority: P1)

作为采购职员，登录系统后希望看到专门针对采购工作的布局和菜单。

**Why this priority**: 采购职员是系统的主要用户群体之一

**Independent Test**: 可通过使用采购角色账号登录，验证布局正确显示采购相关菜单

**Acceptance Scenarios**:

1. **Given** 采购职员已登录，**When** 系统加载布局，**Then** 左侧菜单显示"供应商管理、采购合同、到货、发票、付款、进度跟踪"六个菜单项

---

### User Story 3 - 经理使用系统布局 (Priority: P1)

作为经理，登录系统后希望看到专门针对管理工作的布局和菜单。

**Why this priority**: 经理需要全局视图和决策支持功能

**Independent Test**: 可通过使用经理角色账号登录，验证布局正确显示管理相关菜单

**Acceptance Scenarios**:

1. **Given** 经理已登录，**When** 系统加载布局，**Then** 左侧菜单显示"总览、进度跟踪、关联对比、数据报表、历史记录"五个菜单项

---

### User Story 4 - 菜单导航功能 (Priority: P2)

作为系统用户，希望通过点击菜单切换不同功能页面。

**Why this priority**: 菜单导航是用户使用系统的核心交互方式

**Independent Test**: 可通过点击各菜单项，验证页面内容区域正确切换

**Acceptance Scenarios**:

1. **Given** 用户在主布局页面，**When** 点击左侧菜单中的任意项，**Then** 右侧主内容区域显示对应的功能页面
2. **Given** 用户在子页面，**Then** 左侧菜单中高亮显示当前页面所在的菜单项

---

### User Story 5 - 退出登录功能 (Priority: P2)

作为系统用户，希望能够安全退出登录。

**Why this priority**: 安全性要求，确保用户离开时正确注销会话

**Independent Test**: 可通过点击退出按钮，验证系统跳转至登录页面

**Acceptance Scenarios**:

1. **Given** 用户已登录，**When** 点击顶部导航栏的退出按钮，**Then** 系统清除登录状态并跳转至登录页面

---

### Edge Cases

- 用户未登录直接访问内部页面时，系统应自动跳转至登录页面
- 菜单项过多导致滚动时，应保证菜单可滚动且不影响其他区域
- 浏览器窗口宽度变化时，布局应自适应调整（桌面端≥1200px和移动端≤767px）

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系统 MUST 在用户登录后显示主布局，包含顶部导航栏、左侧侧边栏、主内容区域三部分
- **FR-002**: 系统 MUST 根据用户角色动态生成菜单内容：销售角色显示销售菜单、采购角色显示采购菜单、经理角色显示管理菜单
- **FR-003**: 左侧侧边栏 MUST 固定在左侧，宽度约280px，白色背景
- **FR-004**: 右侧主内容区域 MUST 占据剩余宽度，顶部显示页面标题和用户信息
- **FR-005**: 系统 MUST 实现菜单导航功能，点击菜单项可切换至对应功能页面
- **FR-006**: 当前页面菜单项 MUST 显示选中状态（背景色#F5F5F5，文字加粗或颜色加深）
- **FR-007**: 顶部导航栏 MUST 显示用户信息（用户名称）和退出按钮
- **FR-008**: 菜单项 MUST 包含图标和文字，图标与文字间距约12px
- **FR-009**: 菜单项间距 MUST 满足：上下padding约16px，左右padding约24px
- **FR-010**: 系统 MUST 实现响应式布局，在移动端（≤767px）显示顶部导航栏带汉堡菜单，侧边栏默认隐藏
- **FR-011**: 主按钮 MUST 使用深色背景（#1A1A1A），圆角8px，内边距12px 24px，文字白色16px
- **FR-012**: 数据卡片 MUST 使用白色背景，圆角12px，轻微阴影，内边距上下24px、左右20px
- **FR-013**: 系统字体 MUST 使用无衬线字体（如Inter、PingFang SC、Helvetica）

### Key Entities

- **用户会话**: 包含用户身份、角色类型（sales/purchasing/manager），用于确定菜单显示内容
- **菜单配置**: 定义各角色对应的菜单项集合和对应的路由路径

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 登录用户可在2秒内看到完整布局（侧边栏+顶部导航+主内容区）
- **SC-002**: 菜单根据角色正确显示，不同角色看到不同的菜单项，准确率100%
- **SC-003**: 点击菜单项后，主内容区域在1秒内完成切换
- **SC-004**: 用户可通过点击退出按钮成功退出登录，退出成功率100%
- **SC-005**: 布局在不同屏幕尺寸下正确显示，桌面端和移动端均可用
- **SC-006**: 页面加载时，当前菜单项高亮状态正确显示

